- [x] チャンネルごとに閲覧したメッセージの最大IDを(当面Preferencesもしくはメモリー上に)記録する
- [x] メッセージ一覧の読み込み時に
  1.  最大閲覧IDが指定されていなければ範囲を指定せずに`N`件のメッセージを取得する
  2. 最大閲覧IDが指定されている場合、IDより新しい`N`件とID以下の`N`件を2回に分けて取得する
     →該当IDのメッセージが存在しない場合に正しく動作するか？
- [x] メッセージ一覧の任意の読み込み完了時に
  - 取得IDの最大/最小値を記録する
  - 初回に最大閲覧IDが未指定の場合、もしくは`after_id`を指定して最大件数が取得できなかった場合最新データ取得済みとみなす
  - `after_id`を指定しないリクエストで最大件数が取得できなかった場合、最古データ取得済みとみなす
- [x] メッセージ一覧の表示更新時もしくはスクロール時に各メッセージが表示されているかどうかを判定する
- [x] `message_created`またはプッシュ通知を受信した場合、
  1. アプリが起動していない場合、後述の「トースト」を表示する
  2. チャンネルに参加していなければ無視する
  3. チャンネルの最大閲覧ID以下であれば無視する
  4. チャンネルのメッセージ一覧を取得していなければ、チャンネルの未取得ID一覧に追加する
  5. メッセージ一覧が存在し該当メッセージが取得済みである場合無視する
  6. 該当メッセージが取得範囲以降のIDの場合、チャンネルの未取得ID一覧に追加する
  7. 加えて取得している最新メッセージを表示している場合はREST APIでのメッセージの取得を開始する。
- [x] 未取得IDが追加された場合、現在閲覧中のチャンネルでなければOS固有の「トースト」を表示する
- [x] メッセージが表示された場合、「トースト」を破棄する処理を行う
- [x] 画面上のチャンネルの未読件数としては「未閲覧の取得メッセージ数」と「未取得ID数」を加算した値を表示する